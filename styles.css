/* styles.css */

/* --- 1. Paleta de Colores y Variables Globales --- */
:root {
  --primary-color: #0d6efd; /* Azul estándar de Bootstrap */
  --secondary-color: #6c757d; /* Gris secundario */
  --light-gray: #f8f9fa; /* Un gris muy claro para fondos */
  --background-color: #e9ecef; /* Color de fondo principal del body */
  --text-color: #212529; /* Color de texto principal */
  --message-sent-bg: #0d6efd; /* Fondo de burbuja de chat enviada */
  --message-sent-text: #ffffff; /* Texto de burbuja de chat enviada */
  --message-received-bg: #e9ecef; /* Fondo de burbuja de chat recibida */
  --message-received-text: #212529; /* Texto de burbuja de chat recibida */
  --system-message-color: #6c757d; /* Color para mensajes del sistema */
}

/* --- 2. Estilos Base y Layout --- */
body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  background-color: var(--background-color);
  color: var(--text-color);
}

/* Ajustes al contenedor principal de Bootstrap */
.container {
  max-width: 1140px;
}

/* Ocultamos la barra de status, ya que la reemplazaremos con SweetAlert2 */
#status-message {
  display: none !important;
}

/* --- 3. Estilos Específicos del Chat --- */

/* Contenedor de mensajes con scroll */
#messages {
  min-height: 50vh; /* Altura mínima para que no colapse si está vacío */
  max-height: 60vh; /* Altura máxima para evitar que sea demasiado grande */
  overflow-y: auto; /* ¡Crucial! Añade scroll vertical cuando los mensajes exceden el espacio */
  display: flex;
  flex-direction: column;
  gap: 0.75rem; /* Espacio entre mensajes */
}

/* Estilo base para cada burbuja de mensaje */
.message {
  padding: 0.5rem 1rem;
  border-radius: 1.25rem; /* Bordes bien redondeados */
  max-width: 75%; /* Evita que un mensaje ocupe todo el ancho */
  line-height: 1.4;
  word-wrap: break-word; /* Para que las palabras largas se rompan */
}

/* Mensajes enviados por el usuario actual ("Yo") */
.message.me {
  background-color: var(--message-sent-bg);
  color: var(--message-sent-text);
  align-self: flex-end; /* Alinea la burbuja a la derecha */
  border-bottom-right-radius: 0.5rem; /* Estilo de "cola" de burbuja */
}

/* Mensajes recibidos de otros (por defecto) */
.message {
  background-color: var(--message-received-bg);
  color: var(--message-received-text);
  align-self: flex-start; /* Alinea la burbuja a la izquierda */
  border-bottom-left-radius: 0.5rem; /* Estilo de "cola" de burbuja */
}

/* Mensajes del sistema */
.message.system {
  background-color: transparent;
  color: var(--system-message-color);
  font-style: italic;
  font-size: 0.85rem;
  align-self: center; /* Centrar mensajes del sistema */
  text-align: center;
  width: 100%;
  max-width: 100%;
}

.message.system strong {
  color: inherit;
}

/* Estilos para la lista de miembros */
#members-list .list-group-item {
  border: none;
  padding: 0.5rem 0.25rem;
}

#members-list li.me {
  font-weight: bold;
  color: var(--primary-color);
}
#members-list li.connected {
  color: #198754; /* Verde de éxito de Bootstrap */
}

/* --- 4. Media Queries para Responsividad (Ajustes Adicionales) --- */
/* Bootstrap ya hace la mayor parte del trabajo con las clases col-md-*.
   Este media query es para ajustes finos en pantallas más grandes. */
@media (min-width: 768px) {
  /* En pantallas de tablet y más grandes, le damos un poco más de aire al contenedor */
  .container {
    padding: 2rem;
  }

  /* Para que el área de mensajes no sea excesivamente alta en pantallas grandes */
  #messages {
    max-height: 70vh;
  }
}
